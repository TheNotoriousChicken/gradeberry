<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GradeBerry ‚Äì Study Smarter with AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    .glow-card::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 1rem;
      background: radial-gradient(circle, rgba(147,51,234,0.15), transparent 70%);
      z-index: 0;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    }
    .glow-card:hover::before {
      opacity: 1;
    }
  </style>
</head>
<body class="bg-black text-white">

  <!-- Header -->
  <header class="flex justify-between items-center px-6 py-4 border-b border-purple-700/30">
    <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent">GradeBerry</h1>
    <div class="space-x-4">
      <a href="signup.html" class="px-4 py-2 rounded-full border border-purple-500 text-purple-400 hover:bg-purple-600 hover:text-white transition">Sign Up</a>
      <a href="login.html" class="px-4 py-2 rounded-full bg-purple-600 hover:bg-purple-700 transition">Login</a>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="min-h-[70vh] flex flex-col items-center justify-center text-center px-4">
    <h2 class="text-5xl md:text-6xl font-bold bg-gradient-to-r from-purple-400 via-pink-500 to-purple-500 text-transparent bg-clip-text mb-4">
      Study Smarter, Not Harder.
    </h2>
    <p class="text-gray-300 text-lg max-w-xl mb-6">
      GradeBerry is your all-in-one AI study assistant ‚Äî generate notes, quizzes, summaries, and more in one click.
    </p>
    <a href="dashboard.html" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-full transition">Launch Dashboard</a>
  </section>

  <!-- Features -->
  <section class="px-6 py-16 bg-gradient-to-b from-black via-gray-900 to-black">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-2">What You Can Do</h2>
      <p class="text-gray-400">Explore GradeBerry's powerful AI tools</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
      <!-- Feature Cards -->
      <div class="relative p-6 rounded-xl bg-gray-900 border border-purple-700/20 glow-card hover:shadow-[0_0_30px_rgba(147,51,234,0.3)] transition">
        <div class="relative z-10">
          <h3 class="text-xl font-semibold mb-2">Quiz Generator</h3>
          <p class="text-gray-300 text-sm">Generate MCQs from your study notes in seconds.</p>
        </div>
      </div>
      <div class="relative p-6 rounded-xl bg-gray-900 border border-purple-700/20 glow-card hover:shadow-[0_0_30px_rgba(147,51,234,0.3)] transition">
        <div class="relative z-10">
          <h3 class="text-xl font-semibold mb-2">Notes AI</h3>
          <p class="text-gray-300 text-sm">Turn raw content into structured study notes instantly.</p>
        </div>
      </div>
      <div class="relative p-6 rounded-xl bg-gray-900 border border-purple-700/20 glow-card hover:shadow-[0_0_30px_rgba(147,51,234,0.3)] transition">
        <div class="relative z-10">
          <h3 class="text-xl font-semibold mb-2">Flashcards</h3>
          <p class="text-gray-300 text-sm">Create intelligent flashcards for active recall learning.</p>
        </div>
      </div>
      <div class="relative p-6 rounded-xl bg-gray-900 border border-purple-700/20 glow-card hover:shadow-[0_0_30px_rgba(147,51,234,0.3)] transition">
        <div class="relative z-10">
          <h3 class="text-xl font-semibold mb-2">Summary Tool</h3>
          <p class="text-gray-300 text-sm">Get bite-sized summaries of long chapters or papers.</p>
        </div>
      </div>
      <div class="relative p-6 rounded-xl bg-gray-900 border border-purple-700/20 glow-card hover:shadow-[0_0_30px_rgba(147,51,234,0.3)] transition">
        <div class="relative z-10">
          <h3 class="text-xl font-semibold mb-2">Doubt Solver</h3>
          <p class="text-gray-300 text-sm">Ask questions and get AI-generated explanations instantly.</p>
        </div>
      </div>
      <div class="relative p-6 rounded-xl bg-gray-900 border border-purple-700/20 glow-card hover:shadow-[0_0_30px_rgba(147,51,234,0.3)] transition">
        <div class="relative z-10">
          <h3 class="text-xl font-semibold mb-2">Study Plan Builder</h3>
          <p class="text-gray-300 text-sm">Customize a smart study schedule based on your syllabus.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Try Now Section -->
  <section class="px-6 py-20 bg-gradient-to-b from-black via-gray-900 to-black border-t border-purple-700/20">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-white mb-3">Try It Now</h2>
      <p class="text-gray-400">Ask any doubt below ‚Äî see how GradeBerry solves it instantly ‚ö°Ô∏è</p>
    </div>

    <div class="max-w-3xl mx-auto">
      <form id="aiForm" class="space-y-4">
        <textarea id="userInput" placeholder="Type your doubt here..." rows="4"
          class="w-full bg-gray-800 text-white p-4 rounded-lg border border-purple-700/30 focus:outline-none focus:ring-2 focus:ring-purple-600 resize-none"></textarea>

        <button type="submit"
          class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-6 rounded transition w-full md:w-auto">
          Submit
        </button>
      </form>

      <div id="responseBox"
        class="bg-gray-900 p-4 mt-6 rounded-lg border border-purple-700/20 text-gray-300 min-h-[100px]">
        ü§ñ Your AI answer will appear here...
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="text-center py-6 text-gray-500 text-sm border-t border-purple-700/20">
    ¬© 2025 GradeBerry. All rights reserved.
  </footer>

  <!-- JS to handle AI request -->
    <script>
    const form = document.getElementById('aiForm');
    const userInput = document.getElementById('userInput');
    const responseBox = document.getElementById('responseBox');

    // ‚úçÔ∏è Typing effect function
    // ü™Ñ Typing effect that handles HTML properly
    const typeHTML = async (element, html, speed = 15) => {
      element.innerHTML = '';
      const temp = document.createElement('div');
      temp.innerHTML = html;

      let finalHTML = '';
      const walk = async (node) => {
        if (node.nodeType === Node.TEXT_NODE) {
          for (let char of node.textContent) {
            finalHTML += char;
            element.innerHTML = finalHTML;
            await new Promise(resolve => setTimeout(resolve, speed));
          }
        } else if (node.nodeType === Node.ELEMENT_NODE) {
          const tagStart = `<${node.nodeName.toLowerCase()}${[...node.attributes].map(attr => ` ${attr.name}="${attr.value}"`).join('')}>`;
          const tagEnd = `</${node.nodeName.toLowerCase()}>`;
          finalHTML += tagStart;
          for (let child of node.childNodes) {
            await walk(child);
          }
          finalHTML += tagEnd;
          element.innerHTML = finalHTML;
        }
      };

      for (let child of temp.childNodes) {
        await walk(child);
      }
    };


    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const input = userInput.value.trim();
      if (!input) return;

      responseBox.innerText = '‚è≥ Thinking...';

      try {
        const response = await fetch("https://api.together.xyz/v1/chat/completions", {
          method: "POST",
          headers: {
            "Authorization": "Bearer tgp_v1_wRf1bIQjSxwgngfjzB9sgBN1S8iuY8LyRP2R2_awM9I",
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            model: "meta-llama/Llama-3.3-70B-Instruct-Turbo-Free",
            messages: [
              {
                role: "system",
                content: `You are GradeBerry, an AI study assistant powered by GPT-3.5-level technology. 
          You help students with study notes, summaries, quizzes, and explanations. 

          Your style is:
          - Friendly and student-friendly
          - Structured formatting using **bold** for key terms
          - Use clear bullet points or numbered steps when needed

          If someone asks your name, say: "I'm GradeBerry, your AI study buddy!"  
          If someone asks who developed you, say: "I was created by TJ."`
              },
              {
                role: "user",
                content: input
              }
            ],
            temperature: 0.7
          })

        });

        const data = await response.json();

        if (data.choices && data.choices.length > 0) {
          let content = data.choices[0].message.content;

          // üß† Convert Markdown to basic HTML
          content = content
            .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")           // bold
            .replace(/\n\n/g, "<br><br>")                                // paragraph breaks
            .replace(/\n/g, "<br>")                                      // line breaks
            .replace(/\* (.*?)\n/g, "<li>$1</li>")                       // bullets
            .replace(/(\d+)\. (.*?)<br>/g, "<strong>$1.</strong> $2<br>"); // numbered list

          // ü™Ñ Type it character-by-character
          await typeHTML(responseBox, content, 15); // speed in ms per character
        } else {
          responseBox.innerText = "‚ö†Ô∏è No response from AI. Please try again.";
        }
      } catch (err) {
        responseBox.innerText = "‚ùå Error: " + err.message;
      }
    });
  </script>

</body>
</html>
